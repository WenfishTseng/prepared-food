(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4914852c"],{"0b42":function(e,t,c){var n=c("da84"),a=c("e8b5"),o=c("68ee"),r=c("861d"),l=c("b622"),d=l("species"),i=n.Array;e.exports=function(e){var t;return a(e)&&(t=e.constructor,o(t)&&(t===i||a(t.prototype))?t=void 0:r(t)&&(t=t[d],null===t&&(t=void 0))),void 0===t?i:t}},"1dde":function(e,t,c){var n=c("d039"),a=c("b622"),o=c("2d00"),r=a("species");e.exports=function(e){return o>=51||!n((function(){var t=[],c=t.constructor={};return c[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,c){var n=c("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},"6be2":function(e,t,c){"use strict";var n=function(e){return{all:e=e||new Map,on:function(t,c){var n=e.get(t);n?n.push(c):e.set(t,[c])},off:function(t,c){var n=e.get(t);n&&(c?n.splice(n.indexOf(c)>>>0,1):e.set(t,[]))},emit:function(t,c){var n=e.get(t);n&&n.slice().map((function(e){e(c)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,c)}))}}},a=n();t["a"]=a},8418:function(e,t,c){"use strict";var n=c("a04b"),a=c("9bf2"),o=c("5c6c");e.exports=function(e,t,c){var r=n(t);r in e?a.f(e,r,o(0,c)):e[r]=c}},"99af":function(e,t,c){"use strict";var n=c("23e7"),a=c("da84"),o=c("d039"),r=c("e8b5"),l=c("861d"),d=c("7b0b"),i=c("07fa"),s=c("8418"),u=c("65f0"),b=c("1dde"),p=c("b622"),m=c("2d00"),f=p("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",v=a.TypeError,O=m>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),j=b("concat"),N=function(e){if(!l(e))return!1;var t=e[f];return void 0!==t?!!t:r(e)},V=!O||!j;n({target:"Array",proto:!0,forced:V},{concat:function(e){var t,c,n,a,o,r=d(this),l=u(r,0),b=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?r:arguments[t],N(o)){if(a=i(o),b+a>h)throw v(g);for(c=0;c<a;c++,b++)c in o&&s(l,b,o[c])}else{if(b>=h)throw v(g);s(l,b++,o)}return l.length=b,l}})},d29d:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["createElementVNode"])("div",{class:"text-center"},[Object(n["createElementVNode"])("div",{class:"fa-3x text-primary"},[Object(n["createElementVNode"])("i",{class:"fa-solid fa-champagne-glasses fa-bounce"})]),Object(n["createElementVNode"])("div",{class:"text-primary"},"Loading")],-1),o={class:"container my-5 my-lg-6"},r=Object(n["createStaticVNode"])('<div class="row row-cols-1 row-cols-lg-4 g-3 align-items-center"><div class="col d-none d-lg-block bg-dark text-light border border-2 border-white"><p class="mb-0 px-3 py-4 h5">購物車結帳流程</p></div><div class="col bg-dark text-light border border-2 border-white"><p class="mb-0 px-3 py-4 h5">1. 放入購物車</p></div><div class="col d-none d-lg-block bg-light border border-2 border-white"><p class="mb-0 px-3 py-4 h5">2. 資料確認</p></div><div class="col d-none d-lg-block bg-light border border-2 border-white"><p class="mb-0 px-3 py-4 h5">3. 完成購物</p></div></div>',1),l={class:"row my-3"},d={class:"col-12 text-end"},i=["disabled"],s={class:"row"},u={class:"col-12"},b={class:"table align-middle mt-3"},p=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",{width:"200"}),Object(n["createElementVNode"])("th",{width:"500"},"商名"),Object(n["createElementVNode"])("th",{width:"200",class:"text-end"},"數量"),Object(n["createElementVNode"])("th",{width:"100",class:"text-end"},"單價"),Object(n["createElementVNode"])("th",{width:"100",class:"text-end"},"小計"),Object(n["createElementVNode"])("th",{width:"100",class:"text-end"},"刪除")])],-1),m={class:"input-group input-group-sm"},f={class:"input-group mb-3"},h=["onUpdate:modelValue","onChange"],g=["value"],v={class:"text-end"},O={class:"text-end"},j={class:"text-end"},N=["onClick"],V=Object(n["createElementVNode"])("tfoot",null,[Object(n["createElementVNode"])("td")],-1),E={class:"row mb-3"},y=Object(n["createElementVNode"])("div",{class:"col-6"},[Object(n["createElementVNode"])("p",{class:"text-primary fw-bold"},"試營運20日天天免運")],-1),x={class:"col-md-12 text-end"},w=Object(n["createTextVNode"])(" 應付金額 "),k={class:"h4 fw-bold text-dark"},C={class:"col-12"},D={class:"row justify-content-end"},L={class:"col-lg-3 mb-3"},B={class:"col-lg-3"},P=["disabled"];function S(e,t,c,S,A,$){var q=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(q,{active:A.isLoading,"onUpdate:active":t[0]||(t[0]=function(e){return A.isLoading=e})},{default:Object(n["withCtx"])((function(){return[a]})),_:1},8,["active"]),Object(n["createElementVNode"])("div",o,[r,Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("button",{class:"btn btn-outline-dark",type:"button",onClick:t[1]||(t[1]=function(){return $.removeAllCarts&&$.removeAllCarts.apply($,arguments)}),disabled:0===A.cartData.total}," 清空購物車 ",8,i)])]),Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("table",b,[p,Object(n["createElementVNode"])("tbody",null,[A.cartData.carts?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:0},Object(n["renderList"])(A.cartData.carts,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:e.id},[Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",{class:"table-image",style:Object(n["normalizeStyle"])({backgroundImage:"url(".concat(e.product.imageUrl,")")})},null,4)]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.product.title),1)]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("div",f,[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{name:"cartNum",id:"cart",class:"form-select","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return $.updateCart(e)}},[(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(20,(function(e){return Object(n["createElementVNode"])("option",{value:e,key:e+"cart"},Object(n["toDisplayString"])(e),9,g)})),64))],40,h),[[n["vModelSelect"],e.qty]])])])]),Object(n["createElementVNode"])("td",v,Object(n["toDisplayString"])(e.product.price),1),Object(n["createElementVNode"])("td",O,Object(n["toDisplayString"])(e.product.price*e.qty),1),Object(n["createElementVNode"])("td",j,[Object(n["createElementVNode"])("button",{type:"button",onClick:function(t){return $.removeCartItem(e.id)},class:"btn btn-outline-danger btn-sm"}," x ",8,N)])])})),128)):Object(n["createCommentVNode"])("",!0)]),V])])]),Object(n["createElementVNode"])("div",E,[y,Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("p",null,[w,Object(n["createElementVNode"])("span",k," NT$ "+Object(n["toDisplayString"])(A.cartData.total),1)])]),Object(n["createElementVNode"])("div",C,[Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",L,[Object(n["createElementVNode"])("button",{class:"btn btn-outline-dark w-100",onClick:t[2]||(t[2]=function(){return $.goProductsPage&&$.goProductsPage.apply($,arguments)}),type:"button"}," 繼續購物 ")]),Object(n["createElementVNode"])("div",B,[Object(n["createElementVNode"])("button",{class:"btn btn-primary w-100",type:"button",onClick:t[3]||(t[3]=function(){return $.goOrderPage&&$.goOrderPage.apply($,arguments)}),disabled:0===A.cartData.total}," 確認訂單，結帳 ",8,P)])])])])])],64)}c("99af");var A=c("6be2"),$={data:function(){return{cartData:{},isLoading:!1}},methods:{getCarts:function(){var e=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("pre-food","/cart")).then((function(t){e.cartData=t.data.data,A["a"].emit("get-cart"),e.isLoading=!1})).catch((function(e){alert(e.response.data.message)}))},updateCart:function(e){var t=this;this.isCartLoadingItem=e.id,this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("pre-food","/cart/").concat(e.id),{data:{product_id:e.id,qty:e.qty}}).then((function(e){t.getCarts(),t.isCartLoadingItem=""})).catch((function(e){alert(e.response.data.message)}))},removeCartItem:function(e){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("pre-food","/cart/").concat(e)).then((function(e){t.getCarts()})).catch((function(e){alert(e.response.data.message)}))},removeAllCarts:function(){var e=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("pre-food","/carts")).then((function(t){e.getCarts()})).catch((function(e){alert(e.response.data.message)}))},goProductsPage:function(){this.$router.push("/products")},goOrderPage:function(){this.$router.push("/order")}},mounted:function(){this.getCarts()}},q=c("6b0d"),I=c.n(q);const U=I()($,[["render",S]]);t["default"]=U},e8b5:function(e,t,c){var n=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-4914852c.a847fbb6.js.map